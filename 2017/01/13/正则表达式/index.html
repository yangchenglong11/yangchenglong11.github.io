<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  
  <title>正则表达式 | yangcl&#39;s</title>
  <meta name="author" content="Yang Chenglong" />

  
  <meta name="description" content="Yangcl&#39;s Blog" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <meta property="og:title" content="正则表达式" />
  <meta property="og:site_name" content="yangcl&#39;s" />

  
  

  
    <meta property="og:image" content="" />
  

  
  <link href="/css/images/favicon.ico" rel="icon" />
  

  <link rel="alternate" href="/atom.xml" title="yangcl&#39;s" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  


  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">yangcl&#39;s</a></h1>
  <h2><a href="/">悟已往之不谏，知来者之可追。</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/atom.xml">RSS</a></li>
    
      <li><a href="https://github.com/yangchenglong11">github</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-01-13T11:26:25.000Z"><a href="/2017/01/13/正则表达式/">2017-01-13</a></time>
      
      
  
    <h1 class="title">正则表达式</h1>
  

    </header>
    <div class="entry">
      
        <p>正则表达式(regular expression)描述了一种字符串匹配的模式，可以用来检查一个串是否含有某种子串、将匹配的子串做替换或者从某个串中取出符合某个条件的子串等。</p>
<a id="more"></a>
<h2 id="简单表达式"><a href="#简单表达式" class="headerlink" title="简单表达式"></a>简单表达式</h2><p>正则表达式的最简单形式是在搜索字符串中匹配其本身的单个普通字符。例如，单字符模式，如 A，不论出现在搜索字符串中的何处，它总是匹配字母 A。下面是一些单字符正则表达式模式的示例：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">/a/</span></div><div class="line"><span class="regexp">/7/</span></div><div class="line"><span class="regexp">/M/</span></div></pre></td></tr></table></figure>
<p>可以将许多单字符组合起来以形成大的表达式。例如，以下正则表达式组合了单字符表达式：a、7 和 M。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">/a7M/</span></div></pre></td></tr></table></figure>
<p>请注意，没有串联运算符。只须在一个字符后面键入另一个字符。</p>
<h2 id="字符匹配"><a href="#字符匹配" class="headerlink" title="字符匹配"></a>字符匹配</h2><p>句点 (.) 匹配字符串中的各种打印或非打印字符，只有一个字符例外。这个例外就是换行符 (\n)。下面的正则表达式匹配 aac、abc、acc、adc 等等，以及 a1c、a2c、a-c 和 a#c：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/<span class="selector-tag">a</span>.c/</div></pre></td></tr></table></figure>
<p>若要匹配包含文件名的字符串，而句点 (.) 是输入字符串的组成部分，请在正则表达式中的句点前面加反斜扛 () 字符。举例来说明，下面的正则表达式匹配 filename.ext：</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">/filename</span>\<span class="string">.ext/</span></div></pre></td></tr></table></figure>
<p>这些表达式只让您匹配”任何”单个字符。可能需要匹配列表中的特定字符组。例如，可能需要查找用数字表示的章节标题（Chapter 1、Chapter 2 等等）。</p>
<h2 id="中括号表达式"><a href="#中括号表达式" class="headerlink" title="中括号表达式"></a>中括号表达式</h2><p>若要创建匹配字符组的一个列表，请在方括号（[ 和 ]）内放置一个或更多单个字符。当字符括在中括号内时，该列表称为”中括号表达式”。与在任何别的位置一样，普通字符在中括号内表示其本身，即，它在输入文本中匹配一次其本身。大多数特殊字符在中括号表达式内出现时失去它们的意义。不过也有一些例外，如：</p>
<ul>
<li>如果 ] 字符不是第一项，它结束一个列表。若要匹配列表中的 ] 字符，请将它放在第一位，紧跟在开始 [ 后面。</li>
</ul>
<ul>
<li>\ 字符继续作为转义符。若要匹配 \ 字符，请使用 \。</li>
</ul>
<p>括在中括号表达式中的字符只匹配处于正则表达式中该位置的单个字符。以下正则表达式匹配 Chapter 1、Chapter 2、Chapter 3、Chapter 4 和 Chapter 5：</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/Chapter <span class="string">[12345]</span>/</div></pre></td></tr></table></figure>
<p>请注意，单词 Chapter 和后面的空格的位置相对于中括号内的字符是固定的。中括号表达式指定的只是匹配紧跟在单词 Chapter 和空格后面的单个字符位置的字符集。这是第九个字符位置。<br>若要使用范围代替字符本身来表示匹配字符组，请使用连字符 (-) 将范围中的开始字符和结束字符分开。单个字符的字符值确定范围内的相对顺序。下面的正则表达式包含范围表达式，该范围表达式等效于上面显示的中括号中的列表。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/Chapter [<span class="number">1</span><span class="number">-5</span>]/</div></pre></td></tr></table></figure>
<p>当以这种方式指定范围时，开始值和结束值两者都包括在范围内。注意，还有一点很重要，按 Unicode 排序顺序，开始值必须在结束值的前面。<br>若要在中括号表达式中包括连字符，请采用下列方法之一：</p>
<ul>
<li>用反斜扛将它转义：</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[\-]</div></pre></td></tr></table></figure>
<ul>
<li>将连字符放在中括号列表的开始或结尾。下面的表达式匹配所有小写字母和连字符：</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[-a-z]</div><div class="line">[a-z-]</div></pre></td></tr></table></figure>
<ul>
<li>创建一个范围，在该范围中，开始字符值小于连字符，而结束字符值等于或大于连字符。下面的两个正则表达式都满足这一要求：</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[!--]</div><div class="line">[!-~]</div></pre></td></tr></table></figure>
<p>若要查找不在列表或范围内的所有字符，请将插入符号 (^) 放在列表的开头。如果插入字符出现在列表中的其他任何位置，则它匹配其本身。下面的正则表达式匹配1、2、3、4 或 5 之外的任何数字和字符：</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/Chapter <span class="string">[^12345]</span>/</div></pre></td></tr></table></figure>
<p>在上面的示例中，表达式在第九个位置匹配 1、2、3、4 或 5 之外的任何数字和字符。这样，例如，Chapter 7 就是一个匹配项，Chapter 9 也是一个匹配项。<br>上面的表达式可以使用连字符 (-) 来表示：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/Chapter [^<span class="number">1</span><span class="number">-5</span>]/</div></pre></td></tr></table></figure>
<p>中括号表达式的典型用途是指定任何大写或小写字母或任何数字的匹配。下面的表达式指定这样的匹配：</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/<span class="string">[A-Za-z0-9]</span>/</div></pre></td></tr></table></figure>
<h2 id="替换和分组"><a href="#替换和分组" class="headerlink" title="替换和分组"></a>替换和分组</h2><p>替换使用 | 字符来允许在两个或多个替换选项之间进行选择。<br>例如，可以扩展章节标题正则表达式，以返回比章标题范围更广的匹配项。但是，这并不象您可能认为的那样简单。替换匹配 | 字符任一侧最大的表达式。</p>
<p>您可能认为，下面的表达式匹配出现在行首和行尾、后面跟一个或两个数字的 Chapter 或 Section：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/^Chapter|Section [<span class="string">1-9</span>][<span class="symbol">0-9</span>]&#123;0,1&#125;$/</div></pre></td></tr></table></figure>
<p>很遗憾，上面的正则表达式要么匹配行首的单词 Chapter，要么匹配行尾的单词 Section 及跟在其后的任何数字。如果输入字符串是 Chapter 22，那么上面的表达式只匹配单词 Chapter。如果输入字符串是 Section 22，那么该表达式匹配 Section 22。<br>若要使正则表达式更易于控制，可以使用括号来限制替换的范围，即，确保它只应用于两个单词 Chapter 和 Section。但是，括号也用于创建子表达式，并可能捕获它们以供以后使用，这一点在有关反向引用的那一节讲述。通过在上面的正则表达式的适当位置添加括号，就可以使该正则表达式匹配 Chapter 1 或 Section 3。<br>下面的正则表达式使用括号来组合 Chapter 和 Section，以便表达式正确地起作用：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/^(Chapter|Section) [<span class="string">1-9</span>][<span class="symbol">0-9</span>]&#123;0,1&#125;$/</div></pre></td></tr></table></figure>
<p>尽管这些表达式正常工作，但 Chapter|Section 周围的括号还将捕获两个匹配字中的任一个供以后使用。由于在上面的表达式中只有一组括号，因此，只有一个被捕获的”子匹配项”。<br>在上面的示例中，您只需要使用括号来组合单词 Chapter 和 Section 之间的选择。若要防止匹配被保存以备将来使用，请在括号内正则表达式模式之前放置 ?:。下面的修改提供相同的能力而不保存子匹配项：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/^(?:Chapter|Section) [<span class="string">1-9</span>][<span class="symbol">0-9</span>]&#123;0,1&#125;$/</div></pre></td></tr></table></figure>
<p>除 ?: 元字符外，两个其他非捕获元字符创建被称为”预测先行”匹配的某些内容。正向预测先行使用 ?= 指定，它匹配处于括号中匹配正则表达式模式的起始点的搜索字符串。反向预测先行使用 ?! 指定，它匹配处于与正则表达式模式不匹配的字符串的起始点的搜索字符串。<br>例如，假设您有一个文档，该文档包含指向 Windows 3.1、Windows 95、Windows 98 和 Windows NT 的引用。再进一步假设，您需要更新该文档，将指向 Windows 95、Windows 98 和 Windows NT 的所有引用更改为 Windows 2000。下面的正则表达式（这是一个正向预测先行的示例）匹配 Windows 95、Windows 98 和 Windows NT：</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/Windows(?=<span class="number">95</span> |<span class="type">98</span> |<span class="type">NT</span> )/</div></pre></td></tr></table></figure>
<p>找到一处匹配后，紧接着就在匹配的文本（不包括预测先行中的字符）之后搜索下一处匹配。例如，如果上面的表达式匹配 Windows 98，将在 Windows 之后而不是在 98 之后继续搜索。</p>
<h2 id="常用正则表达式"><a href="#常用正则表达式" class="headerlink" title="常用正则表达式"></a>常用正则表达式</h2><p>一、校验数字的表达式</p>
<ul>
<li>数字：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[<span class="number">0</span><span class="number">-9</span>]\*$</div></pre></td></tr></table></figure>
<ul>
<li>n位的数字：</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^<span class="tag">\<span class="name">d</span><span class="string">&#123;n&#125;</span></span><span class="formula">$</span></div></pre></td></tr></table></figure>
<ul>
<li>至少n位的数字</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">：^<span class="tag">\<span class="name">d</span><span class="string">&#123;n,&#125;</span></span><span class="formula">$</span></div></pre></td></tr></table></figure>
<ul>
<li>m-n位的数字：</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^<span class="tag">\<span class="name">d</span><span class="string">&#123;m,n&#125;</span></span><span class="formula">$</span></div></pre></td></tr></table></figure>
<ul>
<li>零和非零开头的数字：</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(0|[<span class="string">1-9</span>][<span class="symbol">0-9</span>]\*)$</div></pre></td></tr></table></figure>
<ul>
<li>非零开头的最多带两位小数的数字：</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^([<span class="string">1-9</span>][<span class="symbol">0-9</span>]\*)+(.[0-9]&#123;1,2&#125;)?$</div></pre></td></tr></table></figure>
<ul>
<li>带1-2位小数的正数或负数：</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(<span class="tag">\<span class="name">-</span></span>)?<span class="tag">\<span class="name">d</span></span>+(<span class="tag">\<span class="name">.</span></span><span class="tag">\<span class="name">d</span><span class="string">&#123;1,2&#125;</span></span>)?<span class="formula">$</span></div></pre></td></tr></table></figure>
<ul>
<li>正数、负数、和小数：</li>
</ul>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(<span class="symbol">\-</span>|<span class="symbol">\+</span>)?<span class="symbol">\d</span>+(<span class="symbol">\.</span><span class="symbol">\d</span>+)?$</div></pre></td></tr></table></figure>
<ul>
<li>有两位小数的正实数：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[<span class="number">0</span><span class="number">-9</span>]+(.[<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">2</span>&#125;)?$</div></pre></td></tr></table></figure>
<ul>
<li>有1~3位小数的正实数：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[<span class="number">0</span><span class="number">-9</span>]+(.[<span class="number">0</span><span class="number">-9</span>]&#123;<span class="number">1</span>,<span class="number">3</span>&#125;)?$</div></pre></td></tr></table></figure>
<ul>
<li>非零的正整数：</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[<span class="string">1-9</span>]\d\<span class="emphasis">*$ 或 ^([1-9][0-9]*</span>)&#123;1,3&#125;$ 或 ^\+?[<span class="string">1-9</span>][<span class="symbol">0-9</span>]*$</div></pre></td></tr></table></figure>
<ul>
<li>非零的负整数：</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^\-[<span class="string">1-9</span>][<span class="symbol"></span>]0-9"\<span class="emphasis">*$ 或 ^-[1-9]\d*</span>$</div></pre></td></tr></table></figure>
<ul>
<li>非负整数：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^\d+$ 或 ^[<span class="number">1</span><span class="number">-9</span>]\d\*|<span class="number">0</span>$</div></pre></td></tr></table></figure>
<ul>
<li>非正整数：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^-[<span class="number">1</span><span class="number">-9</span>]\d\*|<span class="number">0</span>$ 或 ^((-\d+)|(<span class="number">0</span>+))$</div></pre></td></tr></table></figure>
<ul>
<li>非负浮点数：</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^<span class="tag">\<span class="name">d</span></span>+(<span class="tag">\<span class="name">.</span></span><span class="tag">\<span class="name">d</span></span>+)?<span class="formula">$ 或 ^[1-9]<span class="tag">\<span class="name">d</span></span><span class="tag">\<span class="name">*</span></span><span class="tag">\<span class="name">.</span></span><span class="tag">\<span class="name">d*</span></span>|0<span class="tag">\<span class="name">.</span></span><span class="tag">\<span class="name">d*</span><span class="string">[1-9]</span></span><span class="tag">\<span class="name">d*</span></span>|0?<span class="tag">\<span class="name">.</span></span>0+|0$</span></div></pre></td></tr></table></figure>
<ul>
<li>非正浮点数：</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^((-<span class="tag">\<span class="name">d</span></span>+(<span class="tag">\<span class="name">.</span></span><span class="tag">\<span class="name">d</span></span>+)?)|(0+(<span class="tag">\<span class="name">.</span></span>0+)?))<span class="formula">$ 或 ^(-([1-9]<span class="tag">\<span class="name">d</span></span><span class="tag">\<span class="name">*</span></span><span class="tag">\<span class="name">.</span></span><span class="tag">\<span class="name">d*</span></span>|0<span class="tag">\<span class="name">.</span></span><span class="tag">\<span class="name">d*</span><span class="string">[1-9]</span></span><span class="tag">\<span class="name">d*</span></span>))|0?<span class="tag">\<span class="name">.</span></span>0+|0$</span></div></pre></td></tr></table></figure>
<ul>
<li>正浮点数：</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[<span class="string">1-9</span>]\d\<span class="emphasis">*\.\d*</span>|0\.\d<span class="emphasis">*[1-9]\d*</span>$ 或 ^(([<span class="string">0-9</span>]+\.[<span class="string">0-9</span>]<span class="emphasis">*[1-9][0-9]*</span>)|([<span class="string">0-9</span>]<span class="emphasis">*[1-9][0-9]*</span>\.[<span class="string">0-9</span>]+)|([<span class="string">0-9</span>]<span class="emphasis">*[1-9][0-9]*</span>))$</div></pre></td></tr></table></figure>
<ul>
<li>负浮点数：</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^-([<span class="string">1-9</span>]\d\<span class="emphasis">*\.\d*</span>|0\.\d<span class="emphasis">*[1-9]\d*</span>)$ 或 ^(-(([<span class="string">0-9</span>]+\.[<span class="string">0-9</span>]<span class="emphasis">*[1-9][0-9]*</span>)|([<span class="string">0-9</span>]<span class="emphasis">*[1-9][0-9]*</span>\.[<span class="string">0-9</span>]+)|([<span class="string">0-9</span>]<span class="emphasis">*[1-9][0-9]*</span>)))$</div></pre></td></tr></table></figure>
<ul>
<li>浮点数：</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(-?<span class="tag">\<span class="name">d</span></span>+)(<span class="tag">\<span class="name">.</span></span><span class="tag">\<span class="name">d</span></span>+)?<span class="formula">$ 或 ^-?([1-9]<span class="tag">\<span class="name">d</span></span><span class="tag">\<span class="name">*</span></span><span class="tag">\<span class="name">.</span></span><span class="tag">\<span class="name">d*</span></span>|0<span class="tag">\<span class="name">.</span></span><span class="tag">\<span class="name">d*</span><span class="string">[1-9]</span></span><span class="tag">\<span class="name">d*</span></span>|0?<span class="tag">\<span class="name">.</span></span>0+|0)$</span></div></pre></td></tr></table></figure>
<p>二、校验字符的表达式</p>
<ul>
<li>汉字：</li>
</ul>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[<span class="symbol">\u</span>4e00-<span class="symbol">\u</span>9fa5]&#123;0,&#125;$</div></pre></td></tr></table></figure>
<ul>
<li>英文和数字：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[A-Za-z0<span class="number">-9</span>]+$ 或 ^[A-Za-z0<span class="number">-9</span>]&#123;<span class="number">4</span>,<span class="number">40</span>&#125;$</div></pre></td></tr></table></figure>
<ul>
<li>长度为3-20的所有字符：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^.&#123;<span class="number">3</span>,<span class="number">20</span>&#125;$</div></pre></td></tr></table></figure>
<ul>
<li>由26个英文字母组成的字符串：</li>
</ul>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^<span class="string">[A-Za-z]</span>+$</div></pre></td></tr></table></figure>
<ul>
<li>由26个大写英文字母组成的字符串：</li>
</ul>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^<span class="string">[A-Z]</span>+$</div></pre></td></tr></table></figure>
<ul>
<li>由26个小写英文字母组成的字符串：</li>
</ul>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^<span class="string">[a-z]</span>+$</div></pre></td></tr></table></figure>
<ul>
<li>由数字和26个英文字母组成的字符串：</li>
</ul>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^<span class="string">[A-Za-z0-9]</span>+$</div></pre></td></tr></table></figure>
<ul>
<li>由数字、26个英文字母或者下划线组成的字符串：</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^<span class="tag">\<span class="name">w</span></span>+<span class="formula">$ 或 ^<span class="tag">\<span class="name">w</span><span class="string">&#123;3,20&#125;</span></span>$</span></div></pre></td></tr></table></figure>
<ul>
<li>中文、英文、数字包括下划线：</li>
</ul>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[<span class="symbol">\u</span>4E00-<span class="symbol">\u</span>9FA5A-Za-z0-9_]+$</div></pre></td></tr></table></figure>
<ul>
<li>中文、英文、数字但不包括下划线等符号：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[\u4E00-\u9FA5A-Za-z0<span class="number">-9</span>]+$ 或 ^[\u4E00-\u9FA5A-Za-z0<span class="number">-9</span>]&#123;<span class="number">2</span>,<span class="number">20</span>&#125;$</div></pre></td></tr></table></figure>
<ul>
<li>可以输入含有^%&amp;’,;=?$\”等字符：</li>
</ul>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="name">^%&amp;</span>',<span class="comment">;=?$\x22]+</span></div></pre></td></tr></table></figure>
<ul>
<li>禁止输入含有~的字符：</li>
</ul>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">[^~\x22]</span>+</div></pre></td></tr></table></figure>
<p>三、特殊需求表达式</p>
<ul>
<li>Email地址：</li>
</ul>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^<span class="symbol">\w</span>+([-+.]<span class="symbol">\w</span>+)<span class="symbol">\*</span>@<span class="symbol">\w</span>+([-.]<span class="symbol">\w</span>+)*<span class="symbol">\.</span><span class="symbol">\w</span>+([-.]<span class="symbol">\w</span>+)*$</div></pre></td></tr></table></figure>
<ul>
<li>域名：</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">a-zA-Z0-9</span>][<span class="symbol">-a-zA-Z0-9</span>]&#123;0,62&#125;(/.[<span class="string">a-zA-Z0-9</span>][<span class="symbol">-a-zA-Z0-9</span>]&#123;0,62&#125;)+/.?</div></pre></td></tr></table></figure>
<ul>
<li>InternetURL：</li>
</ul>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[a-zA-z]+://[^<span class="symbol">\s</span>]<span class="symbol">\*</span> 或 ^http://([<span class="symbol">\w</span>-]+<span class="symbol">\.</span>)+[<span class="symbol">\w</span>-]+(/[<span class="symbol">\w</span>-./?<span class="variable">%&amp;=]*)?$</span></div></pre></td></tr></table></figure>
<ul>
<li>手机号码：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(<span class="number">13</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">14</span>[<span class="number">5</span>|<span class="number">7</span>]|<span class="number">15</span>[<span class="number">0</span>|<span class="number">1</span>|<span class="number">2</span>|<span class="number">3</span>|<span class="number">5</span>|<span class="number">6</span>|<span class="number">7</span>|<span class="number">8</span>|<span class="number">9</span>]|<span class="number">18</span>[<span class="number">0</span>|<span class="number">1</span>|<span class="number">2</span>|<span class="number">3</span>|<span class="number">5</span>|<span class="number">6</span>|<span class="number">7</span>|<span class="number">8</span>|<span class="number">9</span>])\d&#123;<span class="number">8</span>&#125;$</div></pre></td></tr></table></figure>
<ul>
<li>电话号码(“XXX-XXXXXXX”、”XXXX-XXXXXXXX”、”XXX-XXXXXXX”、”XXX-XXXXXXXX”、”XXXXXXX”和”XXXXXXXX)：</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(<span class="tag">\<span class="name">(</span></span><span class="tag">\<span class="name">d</span><span class="string">&#123;3,4&#125;</span></span>-)|<span class="tag">\<span class="name">d</span><span class="string">&#123;3.4&#125;</span></span>-)?<span class="tag">\<span class="name">d</span><span class="string">&#123;7,8&#125;</span></span><span class="formula">$</span></div></pre></td></tr></table></figure>
<ul>
<li>国内电话号码(0511-4405222、021-87888822)：</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">d</span><span class="string">&#123;3&#125;</span></span>-<span class="tag">\<span class="name">d</span><span class="string">&#123;8&#125;</span></span>|<span class="tag">\<span class="name">d</span><span class="string">&#123;4&#125;</span></span>-<span class="tag">\<span class="name">d</span><span class="string">&#123;7&#125;</span></span></div></pre></td></tr></table></figure>
<ul>
<li>电话号码正则表达式（支持手机号码，3-4位区号，7-8位直播号码，1－4位分机号）: </li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">((<span class="tag">\<span class="name">d</span><span class="string">&#123;11&#125;</span></span>)|^((<span class="tag">\<span class="name">d</span><span class="string">&#123;7,8&#125;</span></span>)|(<span class="tag">\<span class="name">d</span><span class="string">&#123;4&#125;</span></span>|<span class="tag">\<span class="name">d</span><span class="string">&#123;3&#125;</span></span>)-(<span class="tag">\<span class="name">d</span><span class="string">&#123;7,8&#125;</span></span>)|(<span class="tag">\<span class="name">d</span><span class="string">&#123;4&#125;</span></span>|<span class="tag">\<span class="name">d</span><span class="string">&#123;3&#125;</span></span>)-(<span class="tag">\<span class="name">d</span><span class="string">&#123;7,8&#125;</span></span>)-(<span class="tag">\<span class="name">d</span><span class="string">&#123;4&#125;</span></span>|<span class="tag">\<span class="name">d</span><span class="string">&#123;3&#125;</span></span>|<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span>|<span class="tag">\<span class="name">d</span><span class="string">&#123;1&#125;</span></span>)|(<span class="tag">\<span class="name">d</span><span class="string">&#123;7,8&#125;</span></span>)-(<span class="tag">\<span class="name">d</span><span class="string">&#123;4&#125;</span></span>|<span class="tag">\<span class="name">d</span><span class="string">&#123;3&#125;</span></span>|<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span>|<span class="tag">\<span class="name">d</span><span class="string">&#123;1&#125;</span></span>))<span class="formula">$)</span></div></pre></td></tr></table></figure>
<ul>
<li>身份证号(15位、18位数字)，最后一位是校验位，可能为数字或字符X：</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(^<span class="tag">\<span class="name">d</span><span class="string">&#123;15&#125;</span></span><span class="formula">$)|(^<span class="tag">\<span class="name">d</span><span class="string">&#123;18&#125;</span></span>$</span>)|(^<span class="tag">\<span class="name">d</span><span class="string">&#123;17&#125;</span></span>(<span class="tag">\<span class="name">d</span></span>|X|x)<span class="formula">$)</span></div></pre></td></tr></table></figure>
<ul>
<li>帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[<span class="string">a-zA-Z</span>][<span class="symbol">a-zA-Z0-9_</span>]&#123;4,15&#125;$</div></pre></td></tr></table></figure>
<ul>
<li>密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^[a-zA-Z]\w&#123;<span class="number">5</span>,<span class="number">17</span>&#125;$</div></pre></td></tr></table></figure>
<ul>
<li>强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：</li>
</ul>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^<span class="comment">(?=.\*\d)</span><span class="comment">(?=.*[a-z])</span><span class="comment">(?=.*[A-Z])</span>.&#123;<span class="number">8</span>,<span class="number">10</span>&#125;$</div></pre></td></tr></table></figure>
<ul>
<li>日期格式：</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^<span class="tag">\<span class="name">d</span><span class="string">&#123;4&#125;</span></span>-<span class="tag">\<span class="name">d</span><span class="string">&#123;1,2&#125;</span></span>-<span class="tag">\<span class="name">d</span><span class="string">&#123;1,2&#125;</span></span></div></pre></td></tr></table></figure>
<ul>
<li>一年的12个月(01～09和1～12)：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^(<span class="number">0</span>?[<span class="number">1</span><span class="number">-9</span>]|<span class="number">1</span>[<span class="number">0</span><span class="number">-2</span>])$</div></pre></td></tr></table></figure>
<ul>
<li>一个月的31天(01～09和1～31)：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^((<span class="number">0</span>?[<span class="number">1</span><span class="number">-9</span>])|((<span class="number">1</span>|<span class="number">2</span>)[<span class="number">0</span><span class="number">-9</span>])|<span class="number">30</span>|<span class="number">31</span>)$</div></pre></td></tr></table></figure>
<ul>
<li><p>钱的输入格式：</p>
<ol>
<li>有四种钱的表示形式我们可以接受:”10000.00” 和 “10,000.00”, 和没有 “分” 的 “10000” 和 “10,000”：<code>^[1-9][0-9]\*$</code></li>
<li>这表示任意一个不以0开头的数字,但是,这也意味着一个字符”0”不通过,所以我们采用下面的形式：<code>^(0|[1-9][0-9]\*)$</code></li>
<li>一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：<code>^(0|-?[1-9][0-9]\*)$</code></li>
<li>这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧。下面我们要加的是说明可能的小数部分：<code>^[0-9]+(.[0-9]+)?$</code></li>
<li>必须说明的是,小数点后面至少应该有1位数,所以”10.”是不通过的,但是 “10” 和 “10.2” 是通过的：<code>^[0-9]+(.[0-9]{2})?$</code></li>
<li>这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：<code>^[0-9]+(.[0-9]{1,2})?$</code></li>
<li>这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：<code>^[0-9]{1,3}(,[0-9]{3})\*(.[0-9]{1,2})?$</code></li>
<li>1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：<code>^([0-9]+|[0-9]{1,3}(,[0-9]{3})\*)(.[0-9]{1,2})?$</code></li>
<li>备注：这就是最终结果了,别忘了”+”可以用”*”替代如果你觉得空字符串也可以接受的话(奇怪,为什么?)最后,别忘了在用函数时去掉去掉那个反斜杠,一般的错误都在这里</li>
</ol>
</li>
<li><p>xml文件：</p>
</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">^([<span class="string">a-zA-Z</span>]+-?)+[<span class="string">a-zA-Z0-9</span>]+\\.[<span class="string">x|X</span>][<span class="symbol">m|M</span>][<span class="string">l|L</span>]$</div></pre></td></tr></table></figure>
<ul>
<li>中文字符的正则表达式：</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[\u4e00-\u9fa5]</div></pre></td></tr></table></figure>
<ul>
<li>双字节字符：</li>
</ul>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="name">^</span>\x00-\xff] (<span class="name">包括汉字在内，可以用来计算字符串的长度</span>(<span class="name">一个双字节字符长度计2，ASCII字符计1</span>))</div></pre></td></tr></table></figure>
<ul>
<li>空白行的正则表达式：</li>
</ul>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">\n</span><span class="symbol">\s</span><span class="symbol">\*</span><span class="symbol">\r</span> (可以用来删除空白行)</div></pre></td></tr></table></figure>
<ul>
<li>HTML标记的正则表达式：</li>
</ul>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;(<span class="symbol">\S</span><span class="symbol">\*</span>?)[^&gt;]*&gt;.*?<span class="symbol">\1</span>|&lt;.*? /&gt; ( 首尾空白字符的正则表达式：^<span class="symbol">\s</span>*|<span class="symbol">\s</span>*$或(^<span class="symbol">\s</span>*)|(<span class="symbol">\s</span>*$) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)</div></pre></td></tr></table></figure>
<ul>
<li>腾讯QQ号：</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">1-9</span>][<span class="symbol">0-9</span>]&#123;4,&#125; (腾讯QQ号从10000开始)</div></pre></td></tr></table></figure>
<ul>
<li>中国邮政编码：</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="number">1</span><span class="number">-9</span>]\d&#123;<span class="number">5</span>&#125;(?!\d) (中国邮政编码为<span class="number">6</span>位数字)</div></pre></td></tr></table></figure>
<ul>
<li>IP地址：</li>
</ul>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">((<span class="name">?:</span>(<span class="name">?:25</span>[<span class="name">0-5</span>]|<span class="number">2</span>[<span class="name">0-4</span>]\\d|[<span class="name">01</span>]?\\d?\\d)\\.)&#123;<span class="number">3</span>&#125;(<span class="name">?:25</span>[<span class="name">0-5</span>]|<span class="number">2</span>[<span class="name">0-4</span>]\\d|[<span class="name">01</span>]?\\d?\\d))</div></pre></td></tr></table></figure>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
  
  <div class="categories">
    <a href="/categories/Golang/">Golang</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/Golang/">Golang</a>
  </div>

        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:yangchenglong11.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/Docker/">Docker</a><small>1</small></li>
  
    <li><a href="/categories/Golang/">Golang</a><small>15</small></li>
  
    <li><a href="/categories/Linux/">Linux</a><small>4</small></li>
  
    <li><a href="/categories/MongoDB/">MongoDB</a><small>4</small></li>
  
    <li><a href="/categories/Network/">Network</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2018/01/14/Network学习笔记/">Network学习笔记</a>
      </li>
    
      <li>
        <a href="/2017/07/12/flag/">flag</a>
      </li>
    
      <li>
        <a href="/2017/05/26/channel示例之GoTocket/">channel示例之GoTocket</a>
      </li>
    
      <li>
        <a href="/2017/05/16/cobra/">cobra</a>
      </li>
    
      <li>
        <a href="/2017/05/04/bufio/">bufio 源码解读</a>
      </li>
    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/Docker/">Docker</a><small>1</small></li>
  
    <li><a href="/tags/Golang/">Golang</a><small>16</small></li>
  
    <li><a href="/tags/Linux/">Linux</a><small>4</small></li>
  
    <li><a href="/tags/MongoDB/">MongoDB</a><small>4</small></li>
  
    <li><a href="/tags/Network/">Network</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Golang/" style="font-size: 20px;">Golang</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/MongoDB/" style="font-size: 15px;">MongoDB</a> <a href="/tags/Network/" style="font-size: 10px;">Network</a>
  </div>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  <p>
  
  &copy; 2018 Yang Chenglong
  
  All rights reserved.</p>
  <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</div>
<div class="clearfix"></div>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id='bg'></div>
  
    <script type="text/javascript" src="/live2d/script.js"></script>
    <canvas id="live2dcanvas" width="300" height="400" class="live2d"></canvas>
    <style>
      #live2dcanvas {
        position: fixed;
        right: 0px;
        z-index: 999;
        pointer-events: none;
        bottom: -50px;
      }
    </style>
    <script>loadlive2d("live2dcanvas" ,"/live2d/assets/tororo/tororo.model.json",0.5)</script>
  
</body>
</html>